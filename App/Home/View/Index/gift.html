<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>礼物兑换</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="__PUBLIC__/js/jquery-2.1.1.min.js" type="text/javascript"></script>
    <link href="__PUBLIC__/css/global.css" rel="stylesheet"/>
    <style type="text/css">
        .icon-notice,.view-notice-icon{background:url(//static.gtimg.com/vd/lottery/v3/tc_idc/m/turntable/img/v3/sprite-index__0621.png) no-repeat;-webkit-background-size:.54rem .36rem;background-size:.54rem .36rem}.view-notice-icon{display:block;width:.54rem;height:.2rem;margin-right:.1rem;background-position:0 0}.view-notice{position:absolute;top:0;right:0;left:0;z-index:10;display:-webkit-box;display:-webkit-flex;display:flex;height:.4rem;background:#292d36;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:.12rem;line-height:.4rem;padding:0 .1rem}.view-notice-box{position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;height:.4rem;overflow:hidden}.view-notice-list{position:absolute;top:0;left:0;bottom:0;z-index:1;width:400%;height:.4rem;padding-left:1rem;-webkit-animation:talkItem 20s .1s linear infinite forwards;animation:talkItem 20s .1s linear infinite forwards;white-space:nowrap;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-backface-visibility:hidden;backface-visibility:hidden}.view-notice-item{position:relative;float:left;min-width:2rem;max-width:2.4rem;padding-right:.4rem;white-space:nowrap;color:#727890;overflow:hidden}@-webkit-keyframes talkItem{0%{-webkit-transform:translate(0,0);transform:translate(0,0)}100%{-webkit-transform:translate(-100%,0);transform:translate(-100%,0)}}@keyframes talkItem{0%{-webkit-transform:translate(0,0);transform:translate(0,0)}100%{-webkit-transform:translate(-100%,0);transform:translate(-100%,0)}}.cpm-sheetview{position:fixed;z-index:98;top:0;right:0;bottom:auto;left:0;width:100%}.cpm-sheetview-mod{position:relative;z-index:98;display:none}.cpm-sheetview-mod.active{display:block}.cpm-sheetview-mod.active .cpm-mask{-webkit-animation:fadeIn .2s ease 0s 1 both;animation:fadeIn .2s ease 0s 1 both}.cpm-sheetview-mod.active .cpm-sheetview{-webkit-animation:fadeTopToDown .2s .2s ease both;animation:fadeTopToDown .2s .2s ease both}.cpm-sheetview-mod.unactive .cpm-mask{-webkit-animation:fadeOut .2s ease .2s 1 both;animation:fadeOut .2s ease .2s 1 both}.cpm-sheetview-mod.unactive .cpm-sheetview{-webkit-animation:fadeDownToTop .4s 0s ease both;animation:fadeDownToTop .4s 0s ease both}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeTopToDown{0%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fadeTopToDown{0%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes fadeDownToTop{0%{-webkit-transform:translateY(0);transform:translateY(0)}100%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}}@keyframes fadeDownToTop{0%{-webkit-transform:translateY(0);transform:translateY(0)}100%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}}.rule-box{background-color:#ee683f;padding:.15rem}.rule-box-list{height:2.8rem;overflow:auto;margin-right:-.05rem;padding-right:.05rem}.rule-box-item{padding-left:.1rem;position:relative;color:#6c2300;font-size:.12rem;line-height:.18rem}.rule-box-item:before{content:"";width:.04rem;height:.04rem;position:absolute;left:0;top:.07rem;border-radius:.04rem;background:#6c2300}.rule-box-item a{color:#6c2300;text-decoration:underline}.i-eggs__on,.i-eggs__off{background:#ee503f url(//static.gtimg.com/vd/lottery/v3/tc_idc/m/szc_jifen/img/i_eggs.png) no-repeat;-webkit-background-size:.32rem .88rem;background-size:.32rem .88rem;position:absolute;width:.32rem;height:.44rem;border-radius:0 0 .32rem .32rem;text-indent:-100px;overflow:hidden}.i-eggs__on{z-index:97;right:.05rem;top:-.08rem;-webkit-animation:bounceInDown 1s .2s ease both;animation:bounceInDown 1s .2s ease both}.i-eggs__off{z-index:-1;bottom:-.38rem;right:0;background-position:0 -.44rem}@-webkit-keyframes bounceInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);transform:translateY(-2000px)}60%{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}80%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes bounceInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);transform:translateY(-2000px)}60%{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}80%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}.sheetview-lucky{z-index:8}.sheetview-lucky .cpm-sheetview{padding:.4rem 0 0}.lucky-wall{max-height:3.3rem;background:#992929;color:#f46b6b;font-size:.12rem;line-height:.2rem;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch}.lucky-item{position:relative;padding:.14rem .94rem .14rem .14rem;border-bottom:1px solid #771515}.lucky-item:last-child{border-bottom:none}.lucky-item_bd{position:absolute;top:50%;right:.14rem;margin-top:-.32rem}.lucky-item_user{height:.2rem}.lucky-item_avatar{float:left;width:.2rem;height:.2rem;margin-right:.05rem;border-radius:40px;-webkit-box-shadow:0 0 0 1px #c13021;box-shadow:0 0 0 1px #c13021}.lucky-item_nickname{float:left;max-width:.88rem;margin-right:.05rem;font-size:.14rem;color:#ffebe0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.lucky-item_meta{float:left;color:#771515}.lucky-item_desc{padding-top:.04rem;line-height:.14rem}.lucky-item_goods{display:block;width:.8rem;height:.64rem}.btn-lucky-close{width:100%;height:.28rem;background:#8b2121;border:none;font-size:.14rem;color:#ffadad;border-radius:0 0 320px 320px / 0 0 48px 48px}.icon{display:inline-block;vertical-align:middle;background-image:url(//static.gtimg.com/vd/lottery/v3/tc_idc/m/turntable/img/v3/sprite-normal__0615.png);-webkit-background-size:2.2rem 1rem;background-size:2.2rem 1rem}.icon_prize{background-position:-.49rem 0;width:.12rem;height:.13rem}.icon_arrow-right{background-position:-.39rem 0;width:.06rem;height:.1rem}.icon_msg{background-position:-1.01rem 0;width:.16rem;height:.14rem}.icon_jindou{background-position:-1.22rem 0;width:.16rem;height:.11rem}.icon_wawa{background-position:-.7rem -.26rem;width:.26rem;height:.24rem}.icon_hf{background-position:-.65rem 0;width:.13rem;height:.2rem}.icon_ll{background-position:-.83rem 0;width:.13rem;height:.2rem}.icon_arrow-right__muted{background-position:-1.6rem 0;width:.07rem;height:.13rem}.icon_alert__strong{background-position:-1.94rem 0;width:.16rem;height:.16rem}.icon_alert{background-position:-1.73rem 0;width:.16rem;height:.16rem}.icon_seal{background-position:0 -.27rem;width:.66rem;height:.6rem}html{font-size:100px}@media(min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2){html{font-size:117.188px}}@media(min-device-width:414px) and (max-device-width:736px) and (-webkit-min-device-pixel-ratio:3){html{font-size:129.375px}}body{background:#212329}.i-limits{background:url(//static.gtimg.com/vd/lottery/v3/tc_idc/m/turntable/img/v3/sprite-index__0630.png) no-repeat;-webkit-background-size:.56rem .56rem;background-size:.56rem .56rem}.i-limits__bean{display:block;width:.12rem;height:.12rem;background-position:0 -.24rem}.i-limits__card{display:block;width:.12rem;height:.16rem;background-position:-.32rem -.2rem}.i-limits__prize{display:inline-block;width:.12rem;vertical-align:middle;height:.12rem;background-position:0 -.18rem}.i-limits__arrow-right{display:inline-block;vertical-align:middle;height:.12rem;width:.08rem;background-position:0 -.34rem}.view-header{position:relative;z-index:1;background-color:#292d36;padding:.4rem .1rem .1rem}.banner-flex{display:-webkit-box;display:-webkit-flex;display:flex;position:relative;z-index:1;height:1.5rem;overflow:hidden;border-radius:.05rem;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:.1rem;-webkit-transform:translateZ(0);transform:translateZ(0);background-color:#fff}.banner-flex-item{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative}.banner-flex-item:after{content:"";position:absolute;z-index:0;background:#292d36;top:0;bottom:0;right:0;width:1px;-webkit-transform:scaleX(.5);transform:scaleX(.5);-webkit-transform-origin:right 0;transform-origin:right 0}.banner-flex-item:last-of-type:after{display:none}.banner-flex-box{height:1.5rem;position:relative;z-index:1}.banner-flex-title{display:block;font-size:.18rem;line-height:1;color:#fff;padding:.15rem 0 0 .1rem;margin-bottom:.04rem}.banner-flex-item__hf .banner-flex-title{color:#6d89d7}.banner-flex-item__doll .banner-flex-title{color:#5a9947}.banner-flex-desc{font-size:.12rem;padding:0 0 0 .1rem;line-height:1;color:#9e9e9e;display:block}.banner-flex-entry{height:.2rem;padding:0 .1rem 0 .06rem;border-radius:0 20px 20px 0;position:absolute;bottom:.1rem;left:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#e04241;color:#fff}.banner-flex-entry_txt{font-size:.12rem;display:block}.banner-flex-entry_icon{width:.06rem;height:.08rem;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAMAAAAVv241AAAAGFBMVEVMaXH////////////////////////////eQubUAAAACHRSTlMA3tMVHbV0/3cGvAwAAABASURBVAjXlY0xCsBADMNkJ23+/+AjHQ6ODB1aTxI2GEYCbqu3GNodp9G6lvtMXQ4+mUrgLRpvqVL+YDwYO3nJA06kBrHyIAQXAAAAAElFTkSuQmCC) no-repeat;-webkit-background-size:cover;background-size:cover;display:block;margin-left:.02rem}.banner-flex-img{position:absolute;top:0;bottom:0;right:0;left:0;z-index:0;background-repeat:no-repeat;-webkit-background-size:cover;background-size:cover}.view-uc{position:relative;font-size:.12rem;line-height:.2rem;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.view-uc-item{width:1.3rem;height:.28rem;border-radius:28px;background-color:#22242b;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 .08rem;-webkit-box-sizing:border-box;box-sizing:border-box}.view-uc-val{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#59596d;font-size:.13rem;padding:0 .06rem}.view-uc-plus{width:.18rem;height:.18rem;border-radius:18px;background-color:#ee503f;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.view-uc-plus:after{content:"";width:.12rem;height:.12rem;background:url(//static.gtimg.com/vd/lottery/v3/tc_idc/m/turntable/img/v3/sprite-index__0630.png) no-repeat;-webkit-background-size:.56rem .56rem;background-size:.56rem .56rem;background-position:-.16rem -.24rem;display:block}.view-uc-entry{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:-.05rem}.view-uc-entry_item{display:block;height:.12rem;font-size:.12rem;line-height:1;color:#646a80;position:relative;padding:0 .05rem}.view-uc-entry_item:after{content:"";position:absolute;z-index:0;background:#646a80;top:0;bottom:0;right:0;width:1px;-webkit-transform:scaleX(.5);transform:scaleX(.5);-webkit-transform-origin:right 0;transform-origin:right 0}.view-uc-entry_item:nth-last-of-type(1):after{display:none}.limits-list{padding:.15rem;font-size:.12rem;color:#fff}.limits-list-title{height:.2rem;line-height:.2rem;display:-webkit-box;display:-webkit-flex;display:flex;font-size:.12rem;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:.1rem}.limits-list-title_icon{width:.08rem;height:.08rem;display:block;border-radius:8px;border:.02rem solid #ee503f;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:.05rem}.limits-list-title_name{color:#ee503f;margin-right:.04rem}.limits-list-title_tips{color:#727890}.limits-list-notice{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative;height:.2rem;overflow:hidden}.limits-list-notice_list{position:absolute;top:0;right:0;left:0}.limits-list-notice_item{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}.limits-list ul{overflow:hidden}.limits-item{position:relative;float:left;width:50%;height:1.84rem;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:.01rem solid #292d36}.limits-item-box{padding:.05rem .1rem 0}.limits-item-goods{text-align:center}.limits-item-title{height:.36rem;line-height:.18rem;margin-bottom:.12rem;position:relative;text-align:center}.limits-item-title p{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}.limits-item-status{color:#e04241}.limits-item-img{height:.86rem}.limits-item-btn{z-index:2;width:100%;height:.25rem;background:#e04241;border:none;border-radius:.05rem;text-align:center;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.limits-item-btn_txt{display:block}.limits-item-btn .i-limits{margin-right:.05rem}.limits-item-btn:active{background:#dc2c2b}.limits-item-btn__disabled{background:#5b6072;color:#868da6}.limits-item-btn__disabled .i-limits{display:none}.limits-item-btn__disabled:active{background:#5b6072;color:#868da6}.limits-item .icon_seal{position:absolute;right:.04rem;top:.06rem}.view-menu{width:.4rem;height:.4rem;display:block;position:relative;margin-left:.04rem;margin-right:-.08rem}.view-menu-entry{width:.4rem;height:.4rem;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background-color:transparent;border:none}.view-menu-entry:before{content:"";width:.22rem;height:.22rem;border:.02rem solid #ee503f;border-radius:40px;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;z-index:0}.view-menu-entry:after{content:"";width:.16rem;height:.16rem;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background:url(//static.gtimg.com/vd/lottery/v3/tc_idc/m/turntable/img/v3/sprite-index__0630.png) no-repeat;-webkit-background-size:.56rem .56rem;background-size:.56rem .56rem;background-position:0 -.4rem;z-index:1}.view-menu-list{-webkit-box-sizing:border-box;box-sizing:border-box;width:.9rem;position:absolute;right:0;top:.43rem;background-color:rgba(0,0,0,.9);border-radius:.05rem;padding:0 .1rem}.view-menu-list:before{content:"";width:0;height:0;position:absolute;top:-10px;right:.16rem;border-width:5px;border-style:dashed dashed solid;border-color:transparent transparent rgba(0,0,0,.9)}.view-menu-item{height:.37rem;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.view-menu-item:after{content:"";position:absolute;z-index:0;background:#46474e;bottom:0;right:0;left:0;height:1px;-webkit-transform:scaleY(.5);transform:scaleY(.5);-webkit-transform-origin:0 bottom;transform-origin:0 bottom}.view-menu-item:last-of-type:after{display:none}.view-menu-icon{width:.16rem;height:.16rem;display:block;background:url(//static.gtimg.com/vd/lottery/v3/tc_idc/m/turntable/img/v3/sprite-index__0630.png) no-repeat;-webkit-background-size:.56rem .56rem;background-size:.56rem .56rem;margin-right:.02rem}.view-menu-icon__rule{background-position:-.2rem -.4rem}.view-menu-icon__home{background-position:-.4rem -.4rem}.view-menu-txt{color:#fff;display:block;-webkit-box-flex:1;-webkit-flex:1;flex:1}
        .exchange{
            position: absolute;
            width: 100%;height: 100%;
            background: rgba(28, 28, 29, 0.5);
            z-index: 999;
        }

        .exchange form{
            position: relative;
            padding: 45px 15px 15px;
            border-color: #e5e5e5 #eee #eee;
            border-style: solid;
            border-width: 0px;
            -webkit-box-shadow: inset 0 3px 6px rgba(0,0,0,.05);
            box-shadow: inset 0 3px 6px rgba(0,0,0,.05);
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-control {
            display: block;
            width: 90%;
            height: 34px;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            color: #555;
            background-color: #fff;
            background-image: none;
            border: 1px solid #ccc;
            border-radius: 4px;
            -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
            box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
            -webkit-transition: border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;
            -o-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
            transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
        }
        textarea.form-control {
            height: auto;
        }
        .btn-block {
            display: block;
            width: 100%;
        }
        .btn-success {
            color: #fff;
            background-color: #5cb85c;
            border-color: #4cae4c;
        }
        .btn-danger{
            color: #fff;
            background-color: #d9534f;
            border-color: #d43f3a;
        }
        .btn {
            display: inline-block;
            padding: 6px 12px;
            margin-bottom: 0;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.42857143;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            -ms-touch-action: manipulation;
            touch-action: manipulation;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            background-image: none;
            border: 1px solid transparent;
            border-radius: 4px;
        }
    </style>
</head>
<body>
<div class="exchange">
    <form>
        <div class="form-group">
            <input placeholder="商品名" name="good_name" disabled="disabled" class="form-control">
        </div>
        <div class="form-group">
            <input placeholder="输入收货人姓名" name="name" class="form-control">
        </div>
        <div class="form-group">
            <input placeholder="输入收货人联系方式" name="phone" class="form-control">
        </div>
        <div class="form-group">
            <textarea placeholder="收货地址" name="address" class="form-control"></textarea>
        </div>
        <div class="form-group">
            <input type="hidden" name="gid" >
            <button type="button" class="btn btn-success btn-block" id="send-exchange">兑换</button>
        </div>
        <div class="form-group">
            <button type="button" class="btn btn-danger btn-block" id="close-exchange">取消</button>
        </div>
    </form>
</div>
<section>
    <div class="limits-list">
        <ul>
            <volist name="list" id="vo">
                <li class="limits-item">
                    <div class="limits-item-box">
                        <div class="limits-item-goods">
                            <img  src="__ROOT__/upload/<{$vo.img}>" class="limits-item-img"></div>
                        <div class="limits-item-title">
                            <p><{$vo.name}></p>
                            <span class="limits-item-status">
                                <span>剩</span>
                                <span class="limits-item-status_val"><{$vo.left_num}></span>
                                <span>份</span>
                            </span>
                        </div>
                        <eq name='vo.left_num' value='0'>
                            <i class="icon icon_seal"></i>
                            <a class="limits-item-btn limits-item-btn__disabled">
                                <i class="i-limits i-limits__bean"></i>
                                <span class="limits-item-btn_txt"><{$vo.price}>金豆</span></a>

                            <else />

                            <i class="icon icon_seal cpm-hide"></i>
                            <a class="limits-item-btn doExchange" data-id="<{$vo.id}>" data-name="<{$vo.name}>" data-price="<{$vo.price}>">
                                <i class="i-limits i-limits__bean"></i>
                                <span class="limits-item-btn_txt"><{$vo.price}>金豆</span></a>

                        </eq>
                    </div>
                </li>
            </volist>
        </ul>
    </div>
</section>
<script>
    leftCoinNum = "<{$Think.session.coin}>";
    exchangeHeight = $('.exchange').height();
    $('.exchange').css('top',-exchangeHeight);
    onExchange = false;

    //点击兑换按钮
    $('.doExchange').click(function(){
        var id = $(this).attr('data-id');
        var price = $(this).attr('data-price');
        var name = $(this).attr('data-name');
        if(price>leftCoinNum){  //金豆不足
            alert('金豆不足');
        }else{
            $('input[name="good_name"]').val($(this).attr('data-name'));
            $('input[name="gid"]').val($(this).attr('data-id'));
            $('.exchange').animate({'top':'0'},1000);
        }
    });

    //点击取消兑换
    $('#close-exchange').click(function(){
        $('.exchange').animate({'top':-exchangeHeight,},1000);
    });

    //提交兑换
    $('#send-exchange').click(function(){
        if(!onExchange){
            var gid = $('input[name="gid"]');
            var name = $('input[name="name"]');
            var phone = $('input[name="phone"]');
            var address = $('textarea[name="address"]');
            if(isNaN(gid.val())){
                alert('参数错误');return false;
            }
            if(name.val()==''){
                alert('请填写姓名');name.focus();return false;
            }
            if(phone.val()==''){
                alert('请填写收货电话');phone.focus();return false;
            }
            if(address.val()==''){
                alert('请填写收货地址');address.focus();return false;
            }
            $.ajax({
                'url':"<{:U('index/exchangeGift')}>",
                'data':{
                    gid:gid.val(),
                    'name':name.val(),
                    'phone':phone.val(),
                    'address':address.val(),
                },
                'beforeSend':function(){
                    onExchange = true;
                    $('#send-exchange').removeClass('btn-success');
                },
                'type':'POST',
                success:function(res){
                    if(res.status){
                        alert('兑换成功');
                    }else{
                        alert(res.info);
                    }
                },
                'complete':function(){
                    onExchange = false;
                    $('#send-exchange').addClass('btn-success');
                }
            })
        }else{
            alert('提交中');
        }
    })
</script>
</body>
</html>